<%%- model_class = <%= resource_name.classify %> -%>
<div class="page-header">
  <h1><%= human_resource_instances %></h1>
  <%%= link_to 'New', new_admin_<%=resource_name %>_path, :class => 'btn btn-primary' %>
</div>
<table class="table table-striped">
  <thead>
    <tr>
      <th></th>
      <%- if has_column?(@model_name.constantize, :position) -%>
      <th class="position">Position</th>
      <%- end -%>
      <%- if has_column?(@model_name.constantize, :publish) -%>
      <th class="toogle">Publish</th>
      <%- end -%>
      <th class="actions">Actions</th>
    </tr>
  </thead>
  <tbody>
    <%% @<%= plural_resource_name %>.each do |<%= resource_name %>| %>
      <tr>
        <td><%%= link_to <%= resource_name %>.id, <%= singular_controller_routing_path %>_path(<%= resource_name %>) %></td>
        <%- if has_column?(@model_name.constantize, :position) -%>
        <td><%=raw position_widget <%=resource_name %> %> %></td>
        <%- end -%>
        <%- if has_column?(@model_name.constantize, :publish) -%>
        <td><%%=raw tick_widget <%=resource_name %> %></td>
        <%- end -%>
        <td>
          <%%= link_to 'Edit', edit_admin_<%=resource_name %>_path(<%=resource_name %>), :class => 'btn btn-mini' %>
          <%%= link_to 'Delete',
                      admin_<%=resource_name %>_path(<%=resource_name %>),
                      :method => :delete,
                      :data => { :confirm => 'Are you sure?' },
                      :class => 'btn btn-mini btn-danger' %>
        </td>
      </tr>
    <%% end %>
  </tbody>
</table>
<%- if not has_column?(@model_name.constantize, :position) -%>
<%%= paginate @<%= plural_resource_name %> %>
<%- end -%>